(this["webpackJsonptypescript-formik-i18n"]=this["webpackJsonptypescript-formik-i18n"]||[]).push([[0],{151:function(e,t,n){e.exports=n(296)},295:function(e,t,n){},296:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(6),i=n.n(l),o=n(23),u=n(145),c=n(325),s=n(326),d=n(66),m=n(63),g=n(89),f=n.n(g),p=n(137),b=n(91),E=n(138),h=n(140),y=n(65),v=function(){var e=Object(p.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.a.use(E.a).use(h.a).use(y.d).init({fallbackLng:"en",debug:!0,detection:{order:["queryString","cookie"],cache:["cookie"]},interpolation:{escapeValue:!1},react:{wait:!0}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=b.a,k=function(e,t){if(!e){for(var n=arguments.length,a=new Array(n>2?n-2:0),r=2;r<n;r++)a[r-2]=arguments[r];return w.t.apply(w,[t].concat(a))}return t},S=n(327),O={showKeys:!1,showLanguageMenu:!1,language:"",initialised:!1,loading:!0},P=a.createContext(O);function j(){return a.useContext(P)}function L(e){var t=e.children,n=a.useState(O.showKeys),r=Object(o.a)(n,2),l=r[0],i=r[1],u=a.useState(O.showLanguageMenu),c=Object(o.a)(u,2),s=c[0],d=c[1],m=a.useState(O.language),g=Object(o.a)(m,2),f=g[0],p=g[1],b=a.useState(O.loading),E=Object(o.a)(b,2),h=E[0],y=E[1],k=a.useState(O.initialised),S=Object(o.a)(k,2),j=S[0],L=S[1],x=function(e){y(!0),w.changeLanguage(e).then((function(){p(e),function(e){Array.from(document.querySelectorAll(".selected-button")).forEach((function(e){e.classList.remove("selected-button")}));var t=document.querySelector(".data-".concat(e));t&&t.classList.add("selected-button")}(e),y(!1)}))},K=function(e){var t=e.key;"`"===t&&i(!l),"~"===t&&d(!s)};return a.useEffect((function(){x("en")}),[j]),j||v().then((function(){L(!0)})),a.useEffect((function(){return window.addEventListener("keydown",K),function(){window.removeEventListener("keydown",K)}})),a.createElement(P.Provider,{value:{showKeys:l,showLanguageMenu:s,language:f,loading:h,initialised:j}},j&&s&&a.createElement("div",null,a.createElement("button",{type:"button",className:"language-menu-button data-en",onClick:function(){return x("en")}},"EN"),a.createElement("button",{type:"button",className:"language-menu-button data-fr",onClick:function(){return x("fr")}},"FR")),t)}var x=function(e){var t=j(),n=t.showKeys,r=t.loading,l=t.initialised,i=e.fallbackText,o=e.translationKey;return n?a.createElement(a.Fragment,null,o):a.createElement(a.Fragment,null,!r&&l&&a.createElement(S.a,{i18nKey:o},i))};x.defaultProps={fallbackText:""};var K=function(e){var t=e.placeholder,n=Object(u.a)(e,["placeholder"]),a=j().showKeys,l=Object(d.c)(n),i=Object(o.a)(l,2),s=i[0],m=i[1],g=m.error&&m.touched?m.error:"";return r.a.createElement(c.a,Object.assign({placeholder:k(a,t)},s,{helperText:k(a,g),error:!!g}))},q=m.object().shape({username:m.string().email("loginPage.invalidEmailError").required("loginPage.requiredError"),password:m.string().required("loginPage.requiredError").min(8,"loginPage.invalidPasswordError")}),N=function(){return r.a.createElement(L,null,r.a.createElement("div",null,r.a.createElement(d.b,{validateOnChange:!0,initialValues:{username:"",password:""},validationSchema:q,onSubmit:function(e,t){var n=t.setSubmitting;n(!0),console.log("submit: ",e),n(!1)}},(function(e){var t=e.values,n=e.errors,a=e.isSubmitting;return r.a.createElement(d.a,null,r.a.createElement("div",{className:"login-container"},r.a.createElement(K,{placeholder:"loginPage.emailPlaceHolder",name:"username",type:"text"}),r.a.createElement("br",null),r.a.createElement(K,{placeholder:"loginPage.passwordPlaceHolder",name:"password",type:"password"}),r.a.createElement("div",null,r.a.createElement(s.a,{disabled:a,type:"submit",color:"primary"},r.a.createElement(x,{translationKey:"loginPage.loginButton"})))),r.a.createElement("hr",null),r.a.createElement("pre",null,JSON.stringify(t,null,2)),r.a.createElement("pre",null,JSON.stringify(n,null,2)))}))))};n(295);i.a.render(r.a.createElement(N,null),document.getElementById("root"))}},[[151,1,2]]]);
//# sourceMappingURL=main.6ca6936c.chunk.js.map